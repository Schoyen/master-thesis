\chapter{Hartree-Fock theory}
    One can not tackle the subject of many-body theory without a discussion of
    the Hartree-Fock method. It serves as an excellent initial approximation,
    and in many cases the \emph{only} approximation, to the many-body
    wavefunction for a given system. It is a rather cheap method, in terms of
    computational intensity, and explains much of the underlying physics of a
    given system of many particles.

    \section{Assumptions used in the Hartree-Fock method}
        In the Hartree-Fock method we make five assumptions in order to make the
        many-body problem tractable.
        \begin{enumerate}
            \item We assume that the \emph{Born-Oppenheimer approximation} is a
                good approximation.
                % TODO: Add theory on the Born-Oppenheimer approximation
            \item We assume that the motion of the electrons can be described
                non-relativistically.
            \item We assume that the solution to the variational problem can be
                represented as a linear combination of a finite number of basis
                functions.
            \item The energy eigenfunctions of the time-independent Schr√∂dinger
                equation can be described by a single Slater determinant.
            \item We assume that correlation between particles can be described
                in the \emph{mean-field approximation}.
        \end{enumerate}
        These assumptions provides the basis for the Hartree-Fock method. We
        shall see later that we quickly reach a limit where these assumptions
        break apart thus motivating the use of \emph{post Hartree-Fock methods}
        such as the coupled cluster method.

    \section{Deriving the time-independent Hartree-Fock equations}
        Much of the theory shown in this section draws from the excellent
        lecture notes by \citeauthor{kvaal2017notes} and
        \citeauthor{szabo1996modern}.  We start by making the ansatz that the
        full many-body wavefunction is a single Slater determinant. For a given
        system Hamiltonian
        \begin{align}
            \hamil = \onehamil + \twohamil,
        \end{align}
        where $\onehamil$ is the one-body part of the Hamiltonian and
        $\twohamil$ the higher order correlations. In our case we will limit
        ourselves to Coulomb two-body interactions. We know that the ground
        state of $\onehamil$ will be a single Slater determinant. If the
        two-body interactions are ``small'' we can assume that there will exist
        a Slater determinant which will capture most of the true ground state of
        the full Hamiltonian\footnote{We will see that it does not take much
        before the two-body interaction becomes a little more than just a small
        perturbation.}.

        Our many-body wavefunction will now be represented as a single Slater
        determinant
        \begin{align}
            \ketslat = \ket{\phi_1, \phi_2, \dots, \phi_N},
        \end{align}
        where the \emph{molecular orbitals} $\brac{\phi_i}_{i = 1}^{N}$ are the
        primary unknowns subject to the constraint that they are orthonormal.
        That is,
        \begin{align}
            \braket{\phi_i}{\phi_j} = \delta_{ij}
            \implies \braket{\slat}{\slat} = 1.
            % TODO: Check if this is an actual implication
        \end{align}
        Defining the energy functional
        \begin{align}
            \energyfunc{\slat}
            = \braslat\hamil\ketslat,
            \label{eq:energy_func_hf}
        \end{align}
        the variational principle tells us that the true ground state energy,
        $\energygs$, will be a lower bound to the energy found from
        \autoref{eq:energy_func_hf} for any normalized trial wavefunction
        $\ketslat$. That is,
        \begin{align}
            \energygs
            \leq \energyfunc{\slat} = \braslat\hamil\ketslat.
        \end{align}
        Our task is now to find the molecular orbitals $\brac{\phi_i}_{i =
        1}^{N}$ that minimizes $\energyfunc{\slat}$\footnote{This is done by
        finding a stationary state for $\energyfunc{\slat}$, which does not
        guarantee that we have found a minimum, but often the stationary state
        will be a minimum.}. By performing a variation in the Slater
        determinant,
        \begin{align}
            \slat \to \slat + \delta\slat,
        \end{align}
        we find the that the energy functional is changed by
        \begin{align}
            \energyfunc{\slat + \delta\slat}
            &=
            \bra{\slat + \delta\slat}\hamil\ket{\slat + \delta\slat}
            \\
            &= \energyfunc{\slat}
            + \bra{\delta\slat}\hamil\ketslat + \braslat\hamil\ket{\delta\slat}
            + \dots
            \\
            &= \energyfunc{\slat} + \delta\energyfunc{\slat}
            + \dots,
        \end{align}
        where the \emph{first variation} in $\energyfunc{\slat}$ is given by
        \begin{align}
            \delta\energyfunc{\slat}
            \equiv
            \bra{\delta\slat}\hamil\ketslat + \braslat\hamil\ket{\delta\slat}.
        \end{align}
        Note that we treat $\delta$ as a linear differential operator. Higher
        order variations are ignored and we are thus only interested in finding
        the Slater $\ketslat$ for which
        \begin{align}
            \delta\energyfunc{\slat} = 0,
        \end{align}
        i.e., the stationary point of the energy functional in terms of $\slat$.
        Note however that $\energyfunc{\slat}$ does not incorporate the
        constraint that the molecular orbitals should be orthonormal. To ensure
        this we use the method of Lagrange multipliers, with one multiplier for
        every constraint. We thus construct the Lagrangian functional
        \begin{align}
            \lagrangianfunc{\slat, \lambda}
            &= \energyfunc{\slat}
            - \lambda_{ji}\para{
                \braket{\phi_i}{\phi_j}
                - \delta_{ij}
            }
            \\
            &=
            \bra{\phi_i}\onehamil\ket{\phi_i}
            + \half\bra{\phi_i\phi_j}\twohamil\ket{\phi_i\phi_j}_{AS}
            - \lambda_{ji}\para{
                \braket{\phi_i}{\phi_j}
                - \delta_{ij}
            },
        \end{align}
        where the Einstein summation convention is implied. The Lagrange
        multipliers, $\lambda_{ji}$, are taken to be Hermitian.

        \begin{proof}[Proof that the Lagrange multipliers are Hermitian]
            For any matrix $\vf{A}$ with elements $a_{ij}$, not necessarily
            Hermitian, we get
            \begin{align}
                a_{ij}\para{
                    \braket{\phi_i}{\phi_j} - \delta_{ij}
                }
                &= a_{ij}\para{
                    \braket{\phi_j}{\phi_i}^{*} - \delta_{ji}
                }
                \\
                &= a_{ji}\para{
                    \braket{\phi_i}{\phi_j}^{*} - \delta_{ij}
                }
                \\
                &= \brak{
                    a_{ji}^{*}\para{
                        \braket{\phi_i}{\phi_j} - \delta_{ij}
                    }
                }^{*}
            \end{align}
            where we've used that the inner product is Hermitian and that the
            Kronecker-Delta is symmetric. Furthermore, we've interchanged the
            summation indices $i$ and $j$ at the price of a complex conjugate
            for the inner product of the orbitals, since the summation indices
            are arbitrary as long as the summation axes are the same.
        \end{proof}
